<!DOCTYPE html>
<html>

<head>
    <script>
        //12 hour clock simplified
        function computeAngle(hour, minute) {
            var degreePerHour = 30;
            var hourAngle = hour * degreePerHour;
            var degreePerminute = 6;
            var minuteAngle = minute * degreePerminute;
            var angle = Math.abs(hourAngle - minuteAngle);
            if (angle > 180) {
                angle = 360 - angle;
            }
            return angle;
        }

        //12 hour clock precise
        function computeAnglePrecise(hour, minute) {
            var degreePerFullHour = 30;
            var degreeBeyondHourPerMinute = degreePerFullHour / 60;
            var hourAngle = hour * degreePerFullHour + minute * degreeBeyondHourPerMinute;
            var degreePerMinute = 6;
            var minuteAngle = minute * degreePerMinute;
            var angle = Math.abs(hourAngle - minuteAngle);
            if (angle > 180) {
                angle = 360 - angle;
            }
            return angle;
        }

        //support switch between 12 hr and 24 hr
        function computeAngleSwitch(hour, minute, is24Hr) {
            var degreePerFullHour = is24Hr ? 15 : 30;
            /* var degreePerFullHour = 30;
             if (is24Hr) {
                 degreePerFullHour = 15;
             }
            */
            var degreeBeyondHourPerMinute = degreePerFullHour / 60;
            var hourAngle = hour * degreePerFullHour + minute * degreeBeyondHourPerMinute;
            var degreePerMinute = 6;
            var minuteAngle = minute * degreePerMinute;
            var angle = hourAngle - minuteAngle;
            if (angle < 0) {
                angle = angle * -1;
            }
            if (angle > 180) {
                angle = 360 - angle;
            }
            return angle;
        }

        console.log(computeAnglePrecise(12, 30));
        console.log(computeAnglePrecise(3, 15));
        console.log(computeAnglePrecise(2, 15));
        console.log(computeAnglePrecise(12, 0));
        console.log(computeAngleSwitch(6, 0, true));



        var hourArray = [
            0, //0
            30, //1
            60, //2
            90, //3
            120, //4
            150, //5
            180 //6
        ];

        for (var i = 0; i < hourArray.length; i++) {
            var expectedAngle = hourArray[i];
            var actualAngel = computeAngle(i, 0);
            if (expectedAngle != actualAngel) {
                console.error("hour:" + i + " expected angle:" + expectedAngle + " actual angle:" + actualAngel);
            }
        }

        hourArray.forEach(function (expectedAngle, hour) {
            var actualAngel = computeAngle(hour, 0);
            if (expectedAngle != actualAngel) {
                console.error("hour:" + hour + " expected angle:" + expectedAngle + " actual angle:" + actualAngel);
            }
        })

        console.log("test run");
    </script>
</head>

<body>

</body>

</html>