<!DOCTYPE html>
<html>

<head>
    <script>
        var ADJECTIVES = [
            'able', 'accepting', 'adaptable', 'bold', 'brave',
            'calm', 'caring', 'cheerful', 'clever', 'complex',
            'confident', 'dependable', 'dignified', 'energetic', 'extroverted',
            'friendly', 'giving', 'happy', 'helpful', 'idealistic',
            'independent', 'ingenious', 'intelligent', 'introverted', 'kind',
            'knowledgeable', 'logical', 'loving', 'mature', 'modest',
            'nervous', 'observant', 'organized', 'patient', 'powerful',
            'proud', 'quiet', 'reflective', 'relaxed', 'religious',
            'responsive', 'searching', 'self-assertive', 'self-conscious', 'sensible',
            'sentimental', 'shy', 'silly', 'spontaneous', 'sympathetic',
            'tense', 'trustworthy', 'warm', 'wise', 'witty'
        ];
        var friend1 = ['bold', 'dependable', 'knowledgeable', 'organized', 'helpful', 'observant'];
        var friend2 = ['bold', 'friendly', 'proud', 'silly', 'warm'];
        var friend3 = ['able', 'idealistic', 'helpful', 'intelligent', 'knowledgeable', 'happy'];
        var friend4 = ['caring', 'accepting', 'intelligent', 'witty', 'modest', 'idealistic'];
        var windowName = "Joe";
        var joesAdjectives = ['accepting', 'calm', 'dependable', 'kind', 'loving', 'intelligent'];

        /*
var johariWindow = {
    name: 'Joe',
    arena: ['accepting', 'dependable', 'intelligent'], 

    blindSpot: ['able', 'bold', 'caring', 'friendly', 'happy', 'helpful', 'idealistic','knowledgeable', 'modest', 'observant', 'organized', 'proud', 'silly', 'warm', 'witty'],

    facade: ['calm', 'kind', 'loving'],

    unknown: ['adaptable', 'brave', 'cheerful', 'clever', 'complex', 'confident', 'dignified', 'energetic', 'extroverted', 'giving', 'independent', 'ingenious', 'introverted', 'logical', 'mature', 'nervous', 'patient', 'powerful', 'quiet', 'reflective', 'relaxed', 'religious', 'responsive', 'searching', 'self-assertive', 'self-conscious', 'sensible', 'sentimental', 'shy', 'spontaneous', 'sympathetic', 'tense', 'trustworthy', 'wise'],

    percentages: 'able (25%) accepting (25%) adaptable (0%) bold (50%) brave (0%) calm (0%) caring (25%) cheerful (0%) clever (0%) complex (0%) confident (0%) dependable (25%) dignified (0%) energetic (0%) extroverted (0%) friendly (25%) giving (0%) happy (25%) helpful (50%) idealistic (50%) independent (0%) ingenious (0%) intelligent (50%) introverted (0%) kind (0%) knowledgeable (50%) logical (0%) loving (0%) mature (0%) modest (25%) nervous (0%) observant (25%) organized (25%) patient (0%) powerful (0%) proud (25%) quiet (0%) reflective (0%) relaxed (0%) religious (0%) responsive (0%) searching (0%) self-assertive (0%) self-conscious (0%) sensible (0%) sentimental (0%) shy (0%) silly (25%) spontaneous (0%) sympathetic (0%) tense (0%) trustworthy (0%) warm (25%) wise (0%) witty (25%)',

    breakdown: {
        count: 4,
        people: [
            ['bold', 'dependable', 'knowledgeable', 'organised', 'helpful', 'observant'],
            ['bold', 'friendly', 'proud', 'silly', 'warm'],
            ['able', 'idealistic', 'helpful', 'intelligent', 'knowledgeable', 'happy'],
            ['caring', 'accepting', 'intelligent', 'witty', 'modest', 'idealistic'],
        ]
    }
};
*/
        /*
        Given a fixed list of adjectives, write a function (using OOP principles) that will model a Johari Window for a given individual.
        At minimum there should be a class representing an individual's Johari Window, including all of the submissions from other individuals,
        and a class representing a collection of Johari Windows (the controller) that the application works through.
        The Window should know how many people voted for each adjective, and should be able to break down what each friend's input was.
        */

        class JohariWindow {
            constructor(name) {
                this.name = name;
            }
            arena(...params) {
                this.arena = findArena(...params);
            }
            blindSpot(...params) {
                this.blindSpot = findBlindSpot(...params);
            }
            facade(...params) {
                this.facade = findFacade(...params);
            }
            unknown(...params) {
                this.unknown = findUnknown(...params);
            }
            percentage(...params) {
                this.percentages = getPercentages(...params);
            }
            breakdown(...params) {
                this.breakdown = getBreakdown(...params);
            }
        }

        var johariWindow = new JohariWindow(windowName);
        johariWindow.arena(joesAdjectives, friend1, friend2, friend3, friend4);
        johariWindow.blindSpot(joesAdjectives, friend1, friend2, friend3, friend4);
        johariWindow.facade(joesAdjectives, friend1, friend2, friend3, friend4);
        johariWindow.unknown(joesAdjectives, friend1, friend2, friend3, friend4);
        johariWindow.percentage(joesAdjectives, friend1, friend2, friend3, friend4);
        johariWindow.breakdown(joesAdjectives, friend1, friend2, friend3, friend4);

        console.log(johariWindow);

        function findArena(...params) {
            var arenaOutput = [];
            var subject = params[0];
            for (var i = 1; i < params.length; i++) {
                var peer = params[i];
                subject.forEach(subjectAdj => {
                    for (var x = 0; x < peer.length; x++) {
                        if (subjectAdj == peer[x] && arenaOutput.indexOf(subjectAdj) == -1) {
                            arenaOutput.push(subjectAdj);
                            // break;
                        }
                    }
                });
            }
            return arenaOutput;
        }

        // console.log(findArena(joesAdjectives, friend1, friend2, friend3, friend4));


        function findBlindSpot(...params) {
            var blindSpotOutput = [];
            var subject = params[0];
            for (var i = 1; i < params.length; i++) {
                var peer = params[i];
                peer.forEach(peerAdj => {
                    if (blindSpotOutput.indexOf(peerAdj) == -1) {
                        var isBlindSpot = true;
                        for (var x = 0; x < subject.length; x++) {
                            var subjectAdj = subject[x]
                            if (peerAdj == subjectAdj) {
                                isBlindSpot = false;
                                // break;
                            }
                        }
                    }
                    if (isBlindSpot == true) {
                        blindSpotOutput.push(peerAdj);
                    }
                });
            }
            return blindSpotOutput;
        }

        // console.log(findBlindSpot(joesAdjectives, friend1, friend2, friend3, friend4));

        function findFacade(...params) {
            var facadeOutput = [];
            var subject = params[0];
            subject.forEach(subjectAdj => {
                var isFacade = true;
                for (var i = 1; i < params.length; i++) {
                    var peer = params[i];
                    for (var x = 0; x < peer.length; x++) {
                        var peerAdj = peer[x];
                        if (subjectAdj == peerAdj) {
                            isFacade = false;
                            break;
                        }
                    }
                }
                if (isFacade == true) {
                    facadeOutput.push(subjectAdj);
                }
            })
            return facadeOutput;
        }

        // console.log(findFacade(joesAdjectives, friend1, friend2, friend3, friend4));

        function findUnknown(...params) {
            var unknownOutput = [];
            var arena = findArena(...params);
            var blindSpot = findBlindSpot(...params);
            var facade = findFacade(...params);
            ADJECTIVES.forEach(adj => {
                if (arena.indexOf(adj) == -1 && blindSpot.indexOf(adj) == -1 && facade.indexOf(adj) == -1) {
                    unknownOutput.push(adj);
                }
            })
            return unknownOutput;
        }

        // console.log(findUnknown(joesAdjectives, friend1, friend2, friend3, friend4));

        function getPercentages(...params) {
            var percentagesOutput = "";
            unitPercentage = 100 / (params.length - 1);
            ADJECTIVES.forEach(adj => {
                var percentage = 0;
                for (var i = 1; i < params.length; i++) {
                    var peer = params[i];
                    for (var x = 0; x < peer.length; x++) {
                        var peerAdj = peer[x]
                        if (adj == peerAdj) {
                            percentage += unitPercentage;
                        }
                    }
                }
                percentagesOutput += `${adj} (${percentage}%) `
            })
            return percentagesOutput
        }

        //console.log(getPercentages(joesAdjectives, friend1, friend2, friend3, friend4));

        function getBreakdown(...params) {
            var breakdownOutput = {};
            breakdownOutput.count = params.length - 1;
            var peopleArray = []
            for (var i = 1; i < params.length; i++) {
                peopleArray.push(params[i]);
            }
            breakdownOutput.people = peopleArray;
            return breakdownOutput;
        }


        //console.log(getBreakdown(joesAdjectives, friend1, friend2, friend3, friend4));




    </script>
</head>

</html>